(function(){"use strict";var e={3583:function(e,t,r){var o=r(3751),n=r(641);function s(e,t,r,o,s,a){const l=(0,n.g2)("NavBar"),i=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.bF)(l,{isAuthenticated:s.isLoggedIn,username:s.username,onLogout:a.logout},null,8,["isAuthenticated","username","onLogout"]),(0,n.bF)(i)])}r(4114);var a=r(33);const l={class:"navbar"},i={class:"nav-left"},u={class:"nav-right"},d={class:"nav-item username"},c={class:"nav-item"},p={class:"nav-item"},h={class:"nav-item"};function m(e,t,r,s,m,k){const v=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("nav",l,[(0,n.Lk)("div",i,[(0,n.bF)(v,{to:"/",class:"logo-link"},{default:(0,n.k6)((()=>t[1]||(t[1]=[(0,n.Lk)("img",{src:"/static/logo.png",alt:"Logo",class:"logo"},null,-1),(0,n.Lk)("span",{class:"title"},"WelcomeHome",-1)]))),_:1})]),(0,n.Lk)("ul",u,[r.isAuthenticated?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("li",d,(0,a.v_)(r.username),1),(0,n.Lk)("li",c,[(0,n.Lk)("a",{href:"#",onClick:t[0]||(t[0]=(0,o.D$)(((...e)=>k.logout&&k.logout(...e)),["prevent"])),class:"nav-button"},"Log Out")])],64)):((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.Lk)("li",p,[(0,n.bF)(v,{to:"/login",class:"nav-button"},{default:(0,n.k6)((()=>t[2]||(t[2]=[(0,n.eW)("Log In")]))),_:1})]),(0,n.Lk)("li",h,[(0,n.bF)(v,{to:"/register",class:"nav-button"},{default:(0,n.k6)((()=>t[3]||(t[3]=[(0,n.eW)("Register")]))),_:1})])],64))])])}var k={name:"NavBar",props:{isAuthenticated:Boolean,username:String},methods:{logout(){this.$emit("logout")}}},v=r(6262);const L=(0,v.A)(k,[["render",m],["__scopeId","data-v-4fde12c4"]]);var g=L,_={name:"App",components:{NavBar:g},data(){return{isLoggedIn:!!localStorage.getItem("user"),username:JSON.parse(localStorage.getItem("user")||"{}").username||""}},methods:{logout(){localStorage.removeItem("user"),this.isLoggedIn=!1,this.username="",this.$router.push("/login")}},watch:{$route(){this.isLoggedIn=!!localStorage.getItem("user"),this.username=JSON.parse(localStorage.getItem("user")||"{}").username||""}}};const b=(0,v.A)(_,[["render",s]]);var y=b,f=r(5220);const C={class:"home-wrapper"},I={class:"home-content"},E={class:"nav-list"},O={class:"icon"};function S(e,t,r,o,s,l){const i=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("section",C,[(0,n.Lk)("div",I,[t[0]||(t[0]=(0,n.Lk)("h1",{class:"title"},"Welcome Home",-1)),(0,n.Lk)("ul",E,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.links,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e.to},[(0,n.bF)(i,{to:e.to,class:"nav-link"},{default:(0,n.k6)((()=>[(0,n.Lk)("span",O,(0,a.v_)(e.icon),1),(0,n.eW)(" "+(0,a.v_)(e.text),1)])),_:2},1032,["to"])])))),128))])])])}var X={name:"HomeView",data(){return{links:[{to:"/accept-donation",text:"Accept Donation",icon:"🎁"},{to:"/find-single-item",text:"Find Single Item",icon:"🔍"},{to:"/find-order-items",text:"Find Order Items",icon:"📦"},{to:"/start-order",text:"Start an Order",icon:"📝"},{to:"/add-to-order",text:"Add to Current Order",icon:"➕"},{to:"/prepare-order",text:"Prepare Order",icon:"🚚"},{to:"/my-orders",text:"My Orders",icon:"📑"}]}}};const D=(0,v.A)(X,[["render",S],["__scopeId","data-v-e2a40d0a"]]);var w=D;const F={class:"login-container"},N={class:"login-box"},U={class:"signup-tip"};function V(e,t,r,s,a,l){const i=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",F,[(0,n.Lk)("div",N,[t[6]||(t[6]=(0,n.Lk)("img",{src:"/static/logo.png",alt:"Logo",class:"logo"},null,-1)),t[7]||(t[7]=(0,n.Lk)("h2",null,"Welcome Home",-1)),(0,n.Lk)("form",{onSubmit:t[2]||(t[2]=(0,o.D$)(((...e)=>l.login&&l.login(...e)),["prevent"]))},[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.username=e),placeholder:"Username",required:""},null,512),[[o.Jo,a.username]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e),type:"password",placeholder:"Password",required:""},null,512),[[o.Jo,a.password]]),t[3]||(t[3]=(0,n.Lk)("button",{type:"submit"},"Sign In",-1))],32),(0,n.Lk)("div",U,[t[5]||(t[5]=(0,n.eW)(" Don't have an account? ")),(0,n.bF)(i,{to:"/register"},{default:(0,n.k6)((()=>t[4]||(t[4]=[(0,n.eW)("Sign Up")]))),_:1})])])])}var A=r(9605),P={data(){return{username:"",password:""}},methods:{async login(){try{const e=await A.A.post("http://127.0.0.1:5001/api/login",{username:this.username,password:this.password});200===e.status&&(localStorage.setItem("user",JSON.stringify(e.data)),alert("Login successful!"),this.$router.push("/"))}catch(e){alert(e.response?.data?.error||"Login failed.")}}}};const j=(0,v.A)(P,[["render",V],["__scopeId","data-v-9506c4d0"]]);var q=j;const J={class:"register-container"},K={class:"register-box"},$={class:"login-tip"};function Q(e,t,r,s,a,l){const i=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",J,[(0,n.Lk)("div",K,[t[12]||(t[12]=(0,n.Lk)("h2",null,"Create Account",-1)),(0,n.Lk)("form",{onSubmit:t[7]||(t[7]=(0,o.D$)(((...e)=>l.register&&l.register(...e)),["prevent"]))},[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>a.username=e),placeholder:"Username",required:""},null,512),[[o.Jo,a.username]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>a.password=e),type:"password",placeholder:"Password",required:""},null,512),[[o.Jo,a.password]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>a.first_name=e),placeholder:"First Name",required:""},null,512),[[o.Jo,a.first_name]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>a.last_name=e),placeholder:"Last Name",required:""},null,512),[[o.Jo,a.last_name]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>a.email=e),type:"email",placeholder:"Email",required:""},null,512),[[o.Jo,a.email]]),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>a.phone=e),placeholder:"Phone",required:""},null,512),[[o.Jo,a.phone]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>a.role=e),required:""},t[8]||(t[8]=[(0,n.Fv)('<option disabled value="" data-v-20ddff58>Select Role</option><option value="1" data-v-20ddff58>Staff</option><option value="2" data-v-20ddff58>Volunteer</option><option value="3" data-v-20ddff58>Client</option><option value="4" data-v-20ddff58>Donor</option>',5)]),512),[[o.u1,a.role]]),t[11]||(t[11]=(0,n.Lk)("button",{type:"submit"},"Register",-1)),(0,n.Lk)("div",$,[t[10]||(t[10]=(0,n.eW)(" Already have an account? ")),(0,n.bF)(i,{to:"/login"},{default:(0,n.k6)((()=>t[9]||(t[9]=[(0,n.eW)("Log In")]))),_:1})])],32)])])}var T={data(){return{username:"",password:"",first_name:"",last_name:"",email:"",phone:"",role:""}},methods:{async register(){try{const e=await A.A.post("http://127.0.0.1:5001/api/register",{username:this.username,password:this.password,first_name:this.first_name,last_name:this.last_name,email:this.email,phone:this.phone,role:this.role});201===e.status&&(alert("Registration successful! Please log in."),this.$router.push("/login"))}catch(e){alert(e.response?.data?.error||"Registration failed.")}}}};const x=(0,v.A)(T,[["render",Q],["__scopeId","data-v-20ddff58"]]);var W=x;const R={class:"card"},M=["value"],H=["value"],Y=["value"],B={class:"piece-title",style:{gridColumn:"1 / -1"}},z=["onUpdate:modelValue"],G=["onUpdate:modelValue"],Z=["value"],ee=["onUpdate:modelValue"],te=["value"],re=["onUpdate:modelValue"],oe=["onUpdate:modelValue"],ne=["onUpdate:modelValue"],se=["onUpdate:modelValue"],ae={key:0,class:"msg error"},le={key:1,class:"msg success"};function ie(e,t,r,s,l,i){return(0,n.uX)(),(0,n.CE)("div",R,[t[41]||(t[41]=(0,n.Lk)("h1",null,"Accept Donation",-1)),(0,n.Lk)("form",{onSubmit:t[13]||(t[13]=(0,o.D$)(((...e)=>i.submitForm&&i.submitForm(...e)),["prevent"])),class:"grid-form"},[t[28]||(t[28]=(0,n.Lk)("label",null,"Donor ID",-1)),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.donor_id=e),required:""},[t[14]||(t[14]=(0,n.Lk)("option",{disabled:"",value:""},"Select donor",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.donorOptions,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,a.v_)(e),9,M)))),128))],512),[[o.u1,l.donor_id]]),t[29]||(t[29]=(0,n.Lk)("label",null,"Main Category",-1)),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.mainCategory=e),onChange:t[2]||(t[2]=(...e)=>i.fetchSubCategories&&i.fetchSubCategories(...e)),required:""},[t[15]||(t[15]=(0,n.Lk)("option",{disabled:"",value:""},"Select main category",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.mainCategories,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,a.v_)(e),9,H)))),128))],544),[[o.u1,l.mainCategory]]),t[30]||(t[30]=(0,n.Lk)("label",null,"Sub Category",-1)),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.subCategory=e),required:""},[t[16]||(t[16]=(0,n.Lk)("option",{disabled:"",value:""},"Select sub category",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.subCategories,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,a.v_)(e),9,Y)))),128))],512),[[o.u1,l.subCategory]]),t[31]||(t[31]=(0,n.Lk)("label",null,"Description",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.item_description=e),required:""},null,512),[[o.Jo,l.item_description]]),t[32]||(t[32]=(0,n.Lk)("label",null,"Photo Filename",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.photo_filename=e),required:""},null,512),[[o.Jo,l.photo_filename]]),t[33]||(t[33]=(0,n.Lk)("label",null,"Material",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.material=e),required:""},null,512),[[o.Jo,l.material]]),t[34]||(t[34]=(0,n.Lk)("label",null,"Color",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>l.color=e),required:""},null,512),[[o.Jo,l.color]]),t[35]||(t[35]=(0,n.Lk)("label",null,"Is New",-1)),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>l.is_new=e)},t[17]||(t[17]=[(0,n.Lk)("option",{value:1},"Yes",-1),(0,n.Lk)("option",{value:0},"No",-1)]),512),[[o.u1,l.is_new]]),t[36]||(t[36]=(0,n.Lk)("label",null,"Has Pieces",-1)),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[9]||(t[9]=e=>l.has_pieces=e),onChange:t[10]||(t[10]=(...e)=>i.updatePieceFields&&i.updatePieceFields(...e))},t[18]||(t[18]=[(0,n.Lk)("option",{value:1},"Yes",-1),(0,n.Lk)("option",{value:0},"No",-1)]),544),[[o.u1,l.has_pieces]]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.pieces,((e,r)=>((0,n.uX)(),(0,n.CE)(n.FK,{key:r},[(0,n.Lk)("h3",B,"Piece "+(0,a.v_)(r+1),1),t[21]||(t[21]=(0,n.Lk)("label",null,"Description",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t=>e.description=t,required:""},null,8,z),[[o.Jo,e.description]]),t[22]||(t[22]=(0,n.Lk)("label",null,"Room Number",-1)),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.room_num=t,required:""},[t[19]||(t[19]=(0,n.Lk)("option",{disabled:"",value:""},"Select room",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.locationOptions,(e=>((0,n.uX)(),(0,n.CE)("option",{key:"r"+e.roomNum,value:e.roomNum},(0,a.v_)(e.roomNum),9,Z)))),128))],8,G),[[o.u1,e.room_num]]),t[23]||(t[23]=(0,n.Lk)("label",null,"Shelf Number",-1)),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t=>e.shelf_num=t,required:""},[t[20]||(t[20]=(0,n.Lk)("option",{disabled:"",value:""},"Select shelf",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.locationOptions,(e=>((0,n.uX)(),(0,n.CE)("option",{key:"s"+e.shelfNum,value:e.shelfNum},(0,a.v_)(e.shelfNum),9,te)))),128))],8,ee),[[o.u1,e.shelf_num]]),t[24]||(t[24]=(0,n.Lk)("label",null,"Length",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.length=t,min:"0",step:"0.1"},null,8,re),[[o.Jo,e.length]]),t[25]||(t[25]=(0,n.Lk)("label",null,"Width",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.width=t,min:"0",step:"0.1"},null,8,oe),[[o.Jo,e.width]]),t[26]||(t[26]=(0,n.Lk)("label",null,"Height",-1)),(0,n.bo)((0,n.Lk)("input",{type:"number","onUpdate:modelValue":t=>e.height=t,min:"0",step:"0.1"},null,8,ne),[[o.Jo,e.height]]),t[27]||(t[27]=(0,n.Lk)("label",null,"Notes",-1)),(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t=>e.notes=t},null,8,se),[[o.Jo,e.notes]])],64)))),128)),t[37]||(t[37]=(0,n.Lk)("div",null,null,-1)),1==l.has_pieces?((0,n.uX)(),(0,n.CE)("button",{key:0,type:"button",class:"secondary-btn",onClick:t[11]||(t[11]=(...e)=>i.addPiece&&i.addPiece(...e))},"Add Piece")):(0,n.Q3)("",!0),t[38]||(t[38]=(0,n.Lk)("label",null,"Donation Date",-1)),(0,n.bo)((0,n.Lk)("input",{type:"date","onUpdate:modelValue":t[12]||(t[12]=e=>l.donation_date=e),required:""},null,512),[[o.Jo,l.donation_date]]),t[39]||(t[39]=(0,n.Lk)("div",null,null,-1)),t[40]||(t[40]=(0,n.Lk)("button",{type:"submit",class:"primary-btn"},"Submit Donation",-1))],32),l.error?((0,n.uX)(),(0,n.CE)("p",ae,(0,a.v_)(l.error),1)):(0,n.Q3)("",!0),l.success?((0,n.uX)(),(0,n.CE)("p",le,(0,a.v_)(l.success),1)):(0,n.Q3)("",!0)])}var ue={name:"AcceptDonation",data(){return{donor_id:"",mainCategory:"",subCategory:"",item_description:"",photo_filename:"",material:"",color:"",is_new:1,has_pieces:1,pieces:[],donation_date:"",mainCategories:[],subCategories:[],donorOptions:[],locationOptions:[],error:"",success:""}},created(){Promise.all([fetch("/api/get_main_categories"),fetch("/api/get_donors"),fetch("/api/get_locations")]).then((async([e,t,r])=>{this.mainCategories=await e.json(),this.donorOptions=await t.json(),this.locationOptions=await r.json(),this.updatePieceFields()})).catch((()=>this.error="Initialization failed"))},methods:{fetchSubCategories(){fetch(`/api/get_subcategories/${this.mainCategory}`).then((e=>e.json())).then((e=>this.subCategories=e))},newPiece(){return{description:"",room_num:"",shelf_num:"",length:"",width:"",height:"",notes:""}},updatePieceFields(){this.pieces=Number(this.has_pieces)?[this.newPiece(),this.newPiece()]:[this.newPiece()]},addPiece(){this.pieces.push(this.newPiece())},async submitForm(){this.error="",this.success="";try{const e=await fetch("/api/accept_donation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({donor_id:this.donor_id,mainCategory:this.mainCategory,subCategory:this.subCategory,item_description:this.item_description,photo_filename:this.photo_filename,material:this.material,color:this.color,is_new:this.is_new,has_pieces:this.has_pieces,donation_date:this.donation_date,pieces:this.pieces})}),t=await e.json();if(!e.ok)throw new Error(t.error||"Submission failed");this.success="Donation submitted successfully!"}catch(e){this.error=e.message}}}};const de=(0,v.A)(ue,[["render",ie],["__scopeId","data-v-36eae520"]]);var ce=de;const pe={class:"card"},he={key:0,class:"order-id"},me=["value"],ke=["value"],ve=["value"],Le={key:1,class:"msg error"},ge={key:2,class:"msg success"};function _e(e,t,r,s,l,i){return(0,n.uX)(),(0,n.CE)("div",pe,[t[15]||(t[15]=(0,n.Lk)("h1",null,"Add to Current Order",-1)),l.currentOrderID?((0,n.uX)(),(0,n.CE)("p",he,[t[6]||(t[6]=(0,n.eW)("Current Order ID: ")),(0,n.Lk)("strong",null,(0,a.v_)(l.currentOrderID),1)])):(0,n.Q3)("",!0),(0,n.Lk)("form",{onSubmit:t[5]||(t[5]=(0,o.D$)(((...e)=>i.submitForm&&i.submitForm(...e)),["prevent"])),class:"grid-form"},[t[10]||(t[10]=(0,n.Lk)("label",null,"Main Category",-1)),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.mainCategory=e),onChange:t[1]||(t[1]=(...e)=>i.fetchSubCategories&&i.fetchSubCategories(...e)),required:""},[t[7]||(t[7]=(0,n.Lk)("option",{disabled:"",value:""},"Select main category",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.mainCategories,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,a.v_)(e),9,me)))),128))],544),[[o.u1,l.mainCategory]]),t[11]||(t[11]=(0,n.Lk)("label",null,"Sub Category",-1)),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.subCategory=e),onChange:t[3]||(t[3]=(...e)=>i.fetchItems&&i.fetchItems(...e)),required:""},[t[8]||(t[8]=(0,n.Lk)("option",{disabled:"",value:""},"Select sub category",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.subCategories,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,a.v_)(e),9,ke)))),128))],544),[[o.u1,l.subCategory]]),t[12]||(t[12]=(0,n.Lk)("label",null,"Available Items",-1)),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.item_id=e),required:""},[t[9]||(t[9]=(0,n.Lk)("option",{disabled:"",value:""},"Select an item",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.items,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.ItemID,value:e.ItemID},(0,a.v_)(e.iDescription)+" - "+(0,a.v_)(e.material)+" ("+(0,a.v_)(e.color)+") ",9,ve)))),128))],512),[[o.u1,l.item_id]]),t[13]||(t[13]=(0,n.Lk)("div",null,null,-1)),t[14]||(t[14]=(0,n.Lk)("button",{type:"submit",class:"primary-btn"},"Add to Order",-1))],32),l.error?((0,n.uX)(),(0,n.CE)("p",Le,(0,a.v_)(l.error),1)):(0,n.Q3)("",!0),l.success?((0,n.uX)(),(0,n.CE)("p",ge,(0,a.v_)(l.success),1)):(0,n.Q3)("",!0)])}var be={name:"AddToOrder",data(){return{mainCategory:"",subCategory:"",item_id:"",mainCategories:[],subCategories:[],items:[],currentOrderID:"",error:"",success:""}},created(){fetch("/api/get_main_categories").then((e=>e.json())).then((e=>this.mainCategories=e)),fetch("/api/get_current_order_id").then((e=>e.json())).then((e=>this.currentOrderID=e.order_id||""))},methods:{fetchSubCategories(){fetch(`/api/get_subcategories/${this.mainCategory}`).then((e=>e.json())).then((e=>{this.subCategories=e,this.subCategory="",this.items=[]}))},fetchItems(){fetch(`/api/get_items/${this.mainCategory}/${this.subCategory}`).then((e=>e.json())).then((e=>{this.items=e,this.item_id=""}))},async submitForm(){this.error=this.success="";try{const e=await fetch("/api/add_to_order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({item_id:this.item_id,mainCategory:this.mainCategory,subCategory:this.subCategory})}),t=await e.json();if(!e.ok)throw new Error(t.error||"Add failed");this.success=t.message,this.fetchItems()}catch(e){this.error=e.message}}}};const ye=(0,v.A)(be,[["render",_e],["__scopeId","data-v-e6dc71e2"]]);var fe=ye;const Ce={class:"wrapper"},Ie=["value"],Ee={key:0},Oe={key:1,class:"error"};function Se(e,t,r,s,l,i){return(0,n.uX)(),(0,n.CE)("div",Ce,[t[6]||(t[6]=(0,n.Lk)("h1",null,"Find Order Items",-1)),(0,n.Lk)("form",{onSubmit:t[1]||(t[1]=(0,o.D$)(((...e)=>i.fetchOrderItems&&i.fetchOrderItems(...e)),["prevent"]))},[t[3]||(t[3]=(0,n.Lk)("label",null,"Order ID",-1)),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.orderID=e),required:""},[t[2]||(t[2]=(0,n.Lk)("option",{disabled:"",value:""},"Select order",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.orderOptions,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,a.v_)(e),9,Ie)))),128))],512),[[o.u1,l.orderID]]),t[4]||(t[4]=(0,n.Lk)("button",{class:"primary-btn"},"Search",-1))],32),l.items.length?((0,n.uX)(),(0,n.CE)("table",Ee,[t[5]||(t[5]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Item ID"),(0,n.Lk)("th",null,"Description"),(0,n.Lk)("th",null,"Piece #"),(0,n.Lk)("th",null,"Room"),(0,n.Lk)("th",null,"Shelf"),(0,n.Lk)("th",null,"Shelf Desc.")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.items,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.ItemID+"-"+e.pieceNum},[(0,n.Lk)("td",null,(0,a.v_)(e.ItemID),1),(0,n.Lk)("td",null,(0,a.v_)(e.itemDescription),1),(0,n.Lk)("td",null,(0,a.v_)(e.pieceNum),1),(0,n.Lk)("td",null,(0,a.v_)(e.roomNum),1),(0,n.Lk)("td",null,(0,a.v_)(e.shelfNum),1),(0,n.Lk)("td",null,(0,a.v_)(e.shelfDescription),1)])))),128))])])):(0,n.Q3)("",!0),l.error?((0,n.uX)(),(0,n.CE)("p",Oe,(0,a.v_)(l.error),1)):(0,n.Q3)("",!0)])}var Xe={name:"FindOrderItems",data(){return{orderID:"",orderOptions:[],items:[],error:""}},created(){fetch("/api/get_order_ids").then((e=>e.json())).then((e=>this.orderOptions=e))},methods:{async fetchOrderItems(){this.error="",this.items=[];try{const e=await fetch("/api/find_order_items",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({orderID:this.orderID})}),t=await e.json();if(!e.ok)throw new Error(t.error||"Failed");this.items=t.items}catch(e){this.error=e.message}}}};const De=(0,v.A)(Xe,[["render",Se],["__scopeId","data-v-b9fc1b44"]]);var we=De;const Fe={class:"wrapper"},Ne=["value"],Ue={key:0},Ve={key:1,class:"error"};function Ae(e,t,r,s,l,i){return(0,n.uX)(),(0,n.CE)("div",Fe,[t[6]||(t[6]=(0,n.Lk)("h1",null,"Find Single Item",-1)),(0,n.Lk)("form",{onSubmit:t[1]||(t[1]=(0,o.D$)(((...e)=>i.fetchItem&&i.fetchItem(...e)),["prevent"]))},[t[3]||(t[3]=(0,n.Lk)("label",null,"Item ID",-1)),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.itemID=e),required:""},[t[2]||(t[2]=(0,n.Lk)("option",{disabled:"",value:""},"Select item",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.itemOptions,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,a.v_)(e),9,Ne)))),128))],512),[[o.u1,l.itemID]]),t[4]||(t[4]=(0,n.Lk)("button",{class:"primary-btn"},"Search",-1))],32),l.locations.length?((0,n.uX)(),(0,n.CE)("table",Ue,[t[5]||(t[5]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Piece #"),(0,n.Lk)("th",null,"Room"),(0,n.Lk)("th",null,"Shelf"),(0,n.Lk)("th",null,"Shelf Desc.")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.locations,(e=>((0,n.uX)(),(0,n.CE)("tr",{key:e.pieceNum},[(0,n.Lk)("td",null,(0,a.v_)(e.pieceNum),1),(0,n.Lk)("td",null,(0,a.v_)(e.roomNum),1),(0,n.Lk)("td",null,(0,a.v_)(e.shelfNum),1),(0,n.Lk)("td",null,(0,a.v_)(e.shelfDescription),1)])))),128))])])):(0,n.Q3)("",!0),l.error?((0,n.uX)(),(0,n.CE)("p",Ve,(0,a.v_)(l.error),1)):(0,n.Q3)("",!0)])}var Pe={name:"FindSingleItem",data(){return{itemID:"",itemOptions:[],locations:[],error:""}},created(){fetch("/api/get_item_ids").then((e=>e.json())).then((e=>this.itemOptions=e))},methods:{async fetchItem(){this.error="",this.locations=[];try{const e=await fetch("/api/find_single_item",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemID:this.itemID})}),t=await e.json();if(!e.ok)throw new Error(t.error||"Failed");this.locations=t.locations}catch(e){this.error=e.message}}}};const je=(0,v.A)(Pe,[["render",Ae],["__scopeId","data-v-dab007ce"]]);var qe=je;const Je={class:"my-orders"},Ke={key:0},$e={key:0,class:"orders-table"},Qe={key:1,class:"msg"},Te={key:1},xe={key:0,class:"orders-table"},We={key:1,class:"msg"},Re={key:2,class:"orders-table"},Me={key:3,class:"msg"},He={key:2},Ye={key:0,class:"orders-table"},Be={key:1,class:"msg"};function ze(e,t,r,o,s,l){return(0,n.uX)(),(0,n.CE)("div",Je,[t[8]||(t[8]=(0,n.Lk)("h1",null,"My Orders",-1)),"3"===s.role?((0,n.uX)(),(0,n.CE)("section",Ke,[t[1]||(t[1]=(0,n.Lk)("h2",null,"Your Orders (Client)",-1)),s.orders.length?((0,n.uX)(),(0,n.CE)("table",$e,[t[0]||(t[0]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Order ID"),(0,n.Lk)("th",null,"Date"),(0,n.Lk)("th",null,"Notes"),(0,n.Lk)("th",null,"Item ID"),(0,n.Lk)("th",null,"Description"),(0,n.Lk)("th",null,"Found")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.orders,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("td",null,(0,a.v_)(e.orderID),1),(0,n.Lk)("td",null,(0,a.v_)(e.orderDate),1),(0,n.Lk)("td",null,(0,a.v_)(e.orderNotes),1),(0,n.Lk)("td",null,(0,a.v_)(e.ItemID),1),(0,n.Lk)("td",null,(0,a.v_)(e.iDescription),1),(0,n.Lk)("td",null,(0,a.v_)(e.found?"Yes":"No"),1)])))),128))])])):((0,n.uX)(),(0,n.CE)("p",Qe,"No orders found."))])):(0,n.Q3)("",!0),"1"===s.role?((0,n.uX)(),(0,n.CE)("section",Te,[t[4]||(t[4]=(0,n.Lk)("h2",null,"Your Managed Orders",-1)),s.supervise_orders.length?((0,n.uX)(),(0,n.CE)("table",xe,[t[2]||(t[2]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Order ID"),(0,n.Lk)("th",null,"Date"),(0,n.Lk)("th",null,"Notes")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.supervise_orders,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("td",null,(0,a.v_)(e.orderID),1),(0,n.Lk)("td",null,(0,a.v_)(e.orderDate),1),(0,n.Lk)("td",null,(0,a.v_)(e.orderNotes),1)])))),128))])])):((0,n.uX)(),(0,n.CE)("p",We,"No supervised orders.")),t[5]||(t[5]=(0,n.Lk)("h2",null,"Your Delivery Orders",-1)),s.deliver_orders.length?((0,n.uX)(),(0,n.CE)("table",Re,[t[3]||(t[3]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Order ID"),(0,n.Lk)("th",null,"Date"),(0,n.Lk)("th",null,"Notes"),(0,n.Lk)("th",null,"Status")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.deliver_orders,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("td",null,(0,a.v_)(e.orderID),1),(0,n.Lk)("td",null,(0,a.v_)(e.orderDate),1),(0,n.Lk)("td",null,(0,a.v_)(e.orderNotes),1),(0,n.Lk)("td",null,(0,a.v_)(e.status),1)])))),128))])])):((0,n.uX)(),(0,n.CE)("p",Me,"No delivery orders."))])):(0,n.Q3)("",!0),"2"===s.role?((0,n.uX)(),(0,n.CE)("section",He,[t[7]||(t[7]=(0,n.Lk)("h2",null,"Your Delivery Assignments",-1)),s.orders.length?((0,n.uX)(),(0,n.CE)("table",Ye,[t[6]||(t[6]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Order ID"),(0,n.Lk)("th",null,"Date"),(0,n.Lk)("th",null,"Notes"),(0,n.Lk)("th",null,"Delivery Date"),(0,n.Lk)("th",null,"Status")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(s.orders,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("td",null,(0,a.v_)(e.orderID),1),(0,n.Lk)("td",null,(0,a.v_)(e.orderDate),1),(0,n.Lk)("td",null,(0,a.v_)(e.orderNotes),1),(0,n.Lk)("td",null,(0,a.v_)(e.deliveryDate),1),(0,n.Lk)("td",null,(0,a.v_)(e.status),1)])))),128))])])):((0,n.uX)(),(0,n.CE)("p",Be,"No assignments found."))])):(0,n.Q3)("",!0)])}var Ge={name:"MyOrders",data(){return{role:"",orders:[],supervise_orders:[],deliver_orders:[]}},async created(){try{const e=await fetch("/api/my_orders"),t=await e.json();this.role=t.role,this.orders=t.orders||[],this.supervise_orders=t.supervise_orders||[],this.deliver_orders=t.deliver_orders||[]}catch{alert("Failed to load orders")}}};const Ze=(0,v.A)(Ge,[["render",ze],["__scopeId","data-v-98cd113e"]]);var et=Ze;const tt={class:"prepare-order"},rt={class:"field"},ot={class:"field"},nt=["value"],st={key:0,class:"results"},at={class:"result-table"},lt={key:1,class:"msg info"},it={key:2,class:"msg error"};function ut(e,t,r,s,l,i){return(0,n.uX)(),(0,n.CE)("div",tt,[t[11]||(t[11]=(0,n.Lk)("h1",null,"Prepare Order",-1)),(0,n.Lk)("form",{onSubmit:t[3]||(t[3]=(0,o.D$)(((...e)=>i.prepareOrder&&i.prepareOrder(...e)),["prevent"])),class:"form-container"},[(0,n.Lk)("div",rt,[t[5]||(t[5]=(0,n.Lk)("label",{for:"search_type"},"Search By",-1)),(0,n.bo)((0,n.Lk)("select",{id:"search_type","onUpdate:modelValue":t[0]||(t[0]=e=>l.search_type=e),onChange:t[1]||(t[1]=(...e)=>i.loadSearchOptions&&i.loadSearchOptions(...e))},t[4]||(t[4]=[(0,n.Lk)("option",{value:"order_number"},"Order Number",-1),(0,n.Lk)("option",{value:"client_username"},"Client Username",-1)]),544),[[o.u1,l.search_type]])]),(0,n.Lk)("div",ot,[t[7]||(t[7]=(0,n.Lk)("label",{for:"search_value"},"Select Value",-1)),(0,n.bo)((0,n.Lk)("select",{id:"search_value","onUpdate:modelValue":t[2]||(t[2]=e=>l.search_value=e)},[t[6]||(t[6]=(0,n.Lk)("option",{disabled:"",value:""},"Please select",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.search_options,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,a.v_)(e),9,nt)))),128))],512),[[o.u1,l.search_value]])]),t[8]||(t[8]=(0,n.Lk)("div",{class:"actions"},[(0,n.Lk)("button",{type:"submit"},"Prepare")],-1))],32),l.items.length?((0,n.uX)(),(0,n.CE)("div",st,[t[10]||(t[10]=(0,n.Lk)("h2",null,"Prepared Items",-1)),(0,n.Lk)("table",at,[t[9]||(t[9]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",null,"Item ID"),(0,n.Lk)("th",null,"Description"),(0,n.Lk)("th",null,"Room #"),(0,n.Lk)("th",null,"Shelf #"),(0,n.Lk)("th",null,"Notes")])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.items,((e,t)=>((0,n.uX)(),(0,n.CE)("tr",{key:t},[(0,n.Lk)("td",null,(0,a.v_)(e.ItemID),1),(0,n.Lk)("td",null,(0,a.v_)(e.iDescription),1),(0,n.Lk)("td",null,(0,a.v_)(e.roomNum),1),(0,n.Lk)("td",null,(0,a.v_)(e.shelfNum),1),(0,n.Lk)("td",null,(0,a.v_)(e.pNotes),1)])))),128))])])])):(0,n.Q3)("",!0),!l.items.length&&l.success?((0,n.uX)(),(0,n.CE)("p",lt,(0,a.v_)(l.success),1)):(0,n.Q3)("",!0),l.error?((0,n.uX)(),(0,n.CE)("p",it,(0,a.v_)(l.error),1)):(0,n.Q3)("",!0)])}var dt={name:"PrepareOrder",data(){return{search_type:"order_number",search_value:"",search_options:[],items:[],error:"",success:""}},methods:{async loadSearchOptions(){this.search_value="",this.search_options=[];try{const e="order_number"===this.search_type?"/api/get_order_ids":"/api/get_clients",t=await fetch(e);this.search_options=await t.json()}catch{this.error="Failed to load options."}},async prepareOrder(){this.error="",this.success="",this.items=[];try{const e=await fetch("/api/prepare_order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({search_type:this.search_type,search_value:this.search_value})}),t=await e.json();e.ok?(this.items=t.items||[],this.success=this.items.length>0?"":"No items to prepare or already prepared."):this.error=t.error||"Failed to prepare order."}catch{this.error="Network or server error."}}},mounted(){this.loadSearchOptions()}};const ct=(0,v.A)(dt,[["render",ut],["__scopeId","data-v-a01d8f1c"]]);var pt=ct;const ht={class:"card"},mt=["value"],kt={key:0,class:"msg error"},vt={key:1,class:"msg success"};function Lt(e,t,r,s,l,i){return(0,n.uX)(),(0,n.CE)("div",ht,[t[8]||(t[8]=(0,n.Lk)("h1",null,"Start an Order",-1)),(0,n.Lk)("form",{onSubmit:t[2]||(t[2]=(0,o.D$)(((...e)=>i.startOrder&&i.startOrder(...e)),["prevent"])),class:"grid-form"},[t[4]||(t[4]=(0,n.Lk)("label",null,"Client Username",-1)),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.client_username=e),required:""},[t[3]||(t[3]=(0,n.Lk)("option",{disabled:"",value:""},"Select client",-1)),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(l.clientOptions,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e,value:e},(0,a.v_)(e),9,mt)))),128))],512),[[o.u1,l.client_username]]),t[5]||(t[5]=(0,n.Lk)("label",null,"Order Notes",-1)),(0,n.bo)((0,n.Lk)("textarea",{rows:"3","onUpdate:modelValue":t[1]||(t[1]=e=>l.order_notes=e)},null,512),[[o.Jo,l.order_notes]]),t[6]||(t[6]=(0,n.Lk)("div",null,null,-1)),t[7]||(t[7]=(0,n.Lk)("button",{type:"submit",class:"primary-btn"},"Start Order",-1))],32),l.error?((0,n.uX)(),(0,n.CE)("p",kt,(0,a.v_)(l.error),1)):(0,n.Q3)("",!0),l.success?((0,n.uX)(),(0,n.CE)("p",vt,(0,a.v_)(l.success),1)):(0,n.Q3)("",!0)])}var gt={name:"StartOrder",data(){return{client_username:"",order_notes:"",clientOptions:[],error:"",success:""}},created(){fetch("/api/get_clients").then((e=>e.json())).then((e=>this.clientOptions=e)).catch((()=>this.error="Failed to load clients"))},methods:{async startOrder(){this.error=this.success="";try{const e=await fetch("/api/start_order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_username:this.client_username,order_notes:this.order_notes})}),t=await e.json();if(!e.ok)throw new Error(t.error||"Failed to start");this.success=`Order started! ID: ${t.order_id}`,this.client_username=this.order_notes=""}catch(e){this.error=e.message}}}};const _t=(0,v.A)(gt,[["render",Lt],["__scopeId","data-v-029157e6"]]);var bt=_t;const yt=[{path:"/",name:"Home",component:w,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:q},{path:"/register",name:"Register",component:W},{path:"/accept-donation",component:ce,meta:{requiresAuth:!0}},{path:"/add-to-order",component:fe,meta:{requiresAuth:!0}},{path:"/find-order-items",component:we,meta:{requiresAuth:!0}},{path:"/find-single-item",component:qe,meta:{requiresAuth:!0}},{path:"/my-orders",component:et,meta:{requiresAuth:!0}},{path:"/prepare-order",component:pt,meta:{requiresAuth:!0}},{path:"/start-order",component:bt,meta:{requiresAuth:!0}}],ft=(0,f.aE)({history:(0,f.LA)(),routes:yt});ft.beforeEach(((e,t,r)=>{const o=!!localStorage.getItem("user");e.meta.requiresAuth&&!o?r("/login"):"/login"!==e.path&&"/register"!==e.path||!o?r():r("/")}));var Ct=ft,It=r(1239),Et=(r(4188),r(5246)),Ot=(r(7917),r(810));const St=(0,o.Ef)(y);St.use((0,Ot.Ey)()),St.use(Ct),St.use(It.A),St.use(Et.Ay),St.mount("#app")}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,r),s.exports}r.m=e,function(){var e=[];r.O=function(t,o,n,s){if(!o){var a=1/0;for(d=0;d<e.length;d++){o=e[d][0],n=e[d][1],s=e[d][2];for(var l=!0,i=0;i<o.length;i++)(!1&s||a>=s)&&Object.keys(r.O).every((function(e){return r.O[e](o[i])}))?o.splice(i--,1):(l=!1,s<a&&(a=s));if(l){e.splice(d--,1);var u=n();void 0!==u&&(t=u)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[o,n,s]}}(),function(){r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};r.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,s,a=o[0],l=o[1],i=o[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(n in l)r.o(l,n)&&(r.m[n]=l[n]);if(i)var d=i(r)}for(t&&t(o);u<a.length;u++)s=a[u],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(d)},o=self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=r.O(void 0,[504],(function(){return r(3583)}));o=r.O(o)})();
//# sourceMappingURL=app.ade284ad.js.map